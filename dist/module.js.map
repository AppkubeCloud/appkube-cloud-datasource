{"version":3,"file":"module.js","mappings":"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","sources":["webpack:///external amd \"react\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"@emotion/css\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"rxjs\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./service/index.ts","webpack:///./types.ts","webpack:///./datasource.ts","webpack:///./common-ds/index.ts","webpack:///./extended/Stack.tsx","webpack:///./extended/EditorRow.tsx","webpack:///./components/EditorComponents/Metric.tsx","webpack:///./components/EditorComponents/Log.tsx","webpack:///./components/EditorComponents/Trace.tsx","webpack:///./extended/Space.tsx","webpack:///./extended/EditorField.tsx","webpack:///./components/EditorComponents/Api.tsx","webpack:///./module.ts","webpack:///./components/ConfigEditor.tsx","webpack:///./components/QueryEditor.tsx"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const BASE_URL = \"http://34.199.12.114:6057\";\r\nconst GET_CLOUD_ELEMENT = \"/api/cloud-element/search\";\r\n\r\nexport const services = {\r\n    getCloudElements: function(id: string) {\r\n        return fetch(`${BASE_URL}${GET_CLOUD_ELEMENT}?id=${id}`)\r\n        .then(response => response.json());\r\n    }\r\n};\r\n","import { DataQuery, DataSourceJsonData } from '@grafana/data';\r\n\r\nexport interface MyQuery extends DataQuery {\r\n  queryText?: string;\r\n  constant: number;\r\n}\r\n\r\nexport const DEFAULT_QUERY: Partial<MyQuery> = {\r\n  constant: 6.5,\r\n};\r\n\r\n/**\r\n * These are options configured for each DataSource instance\r\n */\r\nexport interface MyDataSourceOptions extends DataSourceJsonData {\r\n  path?: string;\r\n  apiEndpoint?: string;\r\n}\r\n\r\n/**\r\n * Value that is used in the backend, but never sent over HTTP to the frontend\r\n */\r\nexport interface MySecureJsonData {\r\n  apiKey?: string;\r\n}\r\n","import { DataSourceInstanceSettings, CoreApp, DataQueryRequest, DataQueryResponse } from '@grafana/data';\r\nimport { DataSourceWithBackend } from '@grafana/runtime';\r\nimport { services } from './service';\r\nimport { MyQuery, MyDataSourceOptions, DEFAULT_QUERY } from './types';\r\nimport { Observable, from, mergeMap } from 'rxjs';\r\n\r\nexport class DataSource extends DataSourceWithBackend<MyQuery, MyDataSourceOptions> {\r\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\r\n    super(instanceSettings);\r\n  }\r\n\r\n  findParam(paramName: string, url: string) {\r\n    if (!url) {\r\n      url = location.href;\r\n    }\r\n    paramName = paramName.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\r\n    const regexS = \"[\\\\?&]\" + paramName + \"=([^&#]*)\";\r\n    const regex = new RegExp(regexS);\r\n    const results = regex.exec(url);\r\n    return results == null ? \"\" : results[1];\r\n  }\r\n\r\n  getCloudElements(id: string) {\r\n    return from(services.getCloudElements(id).then(res => {\r\n      let query = {};\r\n      if (res && res[0]) {\r\n        const cloudElement = res[0];\r\n        query = {\r\n          \"elementType\": cloudElement.elementType,\r\n          \"elementId\": parseInt(id, 10),\r\n          \"cloudIdentifierName\": cloudElement.instanceName,\r\n          \"cloudIdentifierId\": cloudElement.instanceId,\r\n          \"environmentId\": parseInt(id, 10),\r\n        };\r\n      }\r\n      return query;\r\n    }));\r\n  };\r\n\r\n  getDefaultQuery(_: CoreApp): Partial<MyQuery> {\r\n    return DEFAULT_QUERY\r\n  }\r\n\r\n  query(request: DataQueryRequest<MyQuery>): Observable<DataQueryResponse> {\r\n    const id = this.findParam(\"var-elementId\", window.location.href);\r\n    if (id) {\r\n      // return this.getCloudElements(id).pipe(query => {\r\n      //   let targets = request.targets;\r\n      //   for (let i = 0; i < targets.length; i++) {\r\n      //     targets[i] = {\r\n      //       ...targets[i],\r\n      //       ...query\r\n      //     }\r\n      //   }\r\n      //   return super.query(request);\r\n      // });\r\n      return this.getCloudElements(id).pipe(\r\n        mergeMap((query: object) => {\r\n          let targets = request.targets;\r\n          for (let i = 0; i < targets.length; i++) {\r\n            targets[i] = {\r\n              ...targets[i],\r\n              ...query\r\n            }\r\n          }\r\n          return super.query(request);\r\n        }));\r\n    } else {\r\n      return super.query(request);\r\n    }\r\n  }\r\n}\r\n","export const SOURCE_VALUE = {\r\n    METRIC: \"metric\",\r\n    LOG: \"log\",\r\n    TRACE: \"trace\",\r\n    API: \"api\"\r\n};\r\n\r\nexport enum MetricEditorMode {\r\n    'Builder',\r\n    'Code',\r\n}\r\n\r\nexport const SOURCE_TYPE = [\r\n    { label: 'Metric', value: SOURCE_VALUE.METRIC },\r\n    { label: 'LOG', value: SOURCE_VALUE.LOG },\r\n    { label: 'Trace', value: SOURCE_VALUE.TRACE },\r\n    { label: 'API', value: SOURCE_VALUE.API }\r\n];\r\n\r\nexport const METRIC_TYPE = [\r\n    { label: 'INFRA', value: \"infra\" },\r\n    { label: 'SERVICE', value: \"service\" },\r\n];\r\n\r\nexport const DUMMY_PRODUCTS = [\r\n    { label: 'HRMS', value: \"hrms\" },\r\n    { label: 'Procurement', value: \"procurement\" },\r\n    { label: 'Supply Chain', value: \"supply_chain\" },\r\n    { label: 'CMS', value: \"cms\" },\r\n];\r\n\r\nexport const DUMMY_ENVS = [\r\n    { label: 'Prod', value: \"prod\" },\r\n    { label: 'Dev', value: \"dev\" },\r\n    { label: 'Stage', value: \"stage\" },\r\n    { label: 'Test', value: \"test\" },\r\n];\r\n\r\nexport const DUMMY_MODULES = [\r\n    { label: 'Recruitment', value: \"Recruitment\" },\r\n    { label: 'Attendance', value: \"Attendance\" },\r\n    { label: 'Appraisals', value: \"Appraisals\" },\r\n    { label: 'Salary', value: \"Salary\" },\r\n    { label: 'Engagement', value: \"Engagement\" },\r\n    { label: 'Documentation', value: \"Documentation\" },\r\n];\r\n\r\nexport const DUMMY_SERVICES = [\r\n    { label: 'Java app', value: \"Recruitment\" },\r\n    { label: 'RDS Postgres DB', value: \"Attendance\" },\r\n    { label: 'Open Search DB', value: \"Appraisals\" },\r\n    { label: 'S3', value: \"Salary\" },\r\n    { label: 'GitHub', value: \"Engagement\" },\r\n];\r\n\r\nexport const DUMMY_METRIC_NAME = [\r\n    { label: 'Metric 1', value: \"Metric 1\" },\r\n    { label: 'Metric 2', value: \"Metric 2\" },\r\n    { label: 'Metric 3', value: \"Metric 3\" },\r\n];\r\n\r\nexport const DUMMY_STASTISTIC = [\r\n    { label: 'Stastic 1', value: \"Stastic 1\" },\r\n    { label: 'Stastic 2', value: \"Stastic 2\" },\r\n    { label: 'Stastic 3', value: \"Stastic 3\" },\r\n];\r\n\r\nexport const METRIC_EDITOR_MODES = [\r\n    { label: 'Builder', value: MetricEditorMode.Builder },\r\n    { label: 'Code', value: MetricEditorMode.Code },\r\n];\r\n","import { css } from '@emotion/css';\r\nimport React, { CSSProperties, useCallback } from 'react';\r\n\r\nimport { GrafanaTheme2 } from '@grafana/data';\r\n\r\nimport { useStyles2 } from '@grafana/ui';\r\n\r\ninterface StackProps {\r\n  direction?: CSSProperties['flexDirection'];\r\n  alignItems?: CSSProperties['alignItems'];\r\n  wrap?: boolean;\r\n  gap?: number;\r\n  flexGrow?: CSSProperties['flexGrow'];\r\n  children?: React.ReactNode;\r\n}\r\n\r\nexport const Stack: React.FC<StackProps> = ({ children, ...props }) => {\r\n  const styles = useStyles2(useCallback((theme) => getStyles(theme, props), [props]));\r\n\r\n  return <div className={styles.root}>{children}</div>;\r\n};\r\n\r\nconst getStyles = (theme: GrafanaTheme2, props: StackProps) => ({\r\n  root: css({\r\n    display: 'flex',\r\n    flexDirection: props.direction ?? 'row',\r\n    flexWrap: props.wrap ?? true ? 'wrap' : undefined,\r\n    alignItems: props.alignItems,\r\n    gap: theme.spacing(props.gap ?? 2),\r\n    flexGrow: props.flexGrow,\r\n  }),\r\n});\r\n","import { css } from '@emotion/css';\r\nimport React, { useState } from 'react';\r\nimport { GrafanaTheme2 } from '@grafana/data';\r\nimport { useStyles2, Button } from '@grafana/ui';\r\nimport { Stack } from './Stack';\r\n\r\ninterface EditorRowProps {\r\n  label: string;\r\n  collapsible?: boolean;\r\n  title?: () => string | React.ReactNode;\r\n  collapsed?: boolean;\r\n  dataTestId?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const EditorRow: React.FC<EditorRowProps> = ({ label, collapsible, collapsed = true, title, dataTestId, children }) => {\r\n  const styles = useStyles2(getStyles);\r\n  const [show, setShow] = useState(collapsed);\r\n  const testId = (compType = '') => `infinity-query-row${compType ? '-' + compType : ''}-${(dataTestId || label).replace(/\\ /g, '-')}`.toLowerCase();\r\n  return (\r\n    <div className={styles.root} data-testid={testId('wrapper')}>\r\n      {collapsible && (\r\n        <>\r\n          <Button\r\n            icon={show ? 'angle-down' : 'angle-right'}\r\n            fill=\"text\"\r\n            size=\"sm\"\r\n            variant=\"secondary\"\r\n            onClick={(e) => {\r\n              setShow(!show);\r\n              e.preventDefault();\r\n            }}\r\n            style={{ marginRight: '10px' }}\r\n            data-testid={testId(`collapse-${show ? 'hide' : 'show'}`)}\r\n          />\r\n          <span\r\n            onClick={(e) => {\r\n              setShow(!show);\r\n              e.preventDefault();\r\n            }}\r\n            data-testid={testId(`title`)}\r\n          >\r\n            <b className={styles.collapseTile}>{label}</b>\r\n          </span>\r\n          <span className={styles.collapseTileSecondary}>{title ? title() : 'Options'}</span>\r\n        </>\r\n      )}\r\n      {show && (\r\n        <div style={{ display: 'flex', marginTop: label && collapsible ? '15px' : '0px', marginLeft: '0px' }} data-testid={testId(`children`)}>\r\n          {children}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getStyles = (theme: GrafanaTheme2) => {\r\n  return {\r\n    root: css({\r\n      padding: theme.spacing(1),\r\n      backgroundColor: theme.colors.background.secondary,\r\n      borderRadius: theme.shape.borderRadius(1),\r\n    }),\r\n    collapseTile: css({\r\n      marginRight: theme.spacing(1),\r\n      color: theme.colors.secondary.text,\r\n    }),\r\n    collapseTileSecondary: css({\r\n      color: theme.colors.text.secondary,\r\n      fontSize: theme.typography.bodySmall.fontSize,\r\n      '&:hover': {\r\n        color: theme.colors.secondary.text,\r\n      },\r\n    }),\r\n  };\r\n};\r\n\r\ninterface EditorRowsProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const EditorRows: React.FC<EditorRowsProps> = ({ children }) => {\r\n  return (\r\n    <Stack gap={0.5} direction=\"column\">\r\n      {children}\r\n    </Stack>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Select, InlineField, Input } from '@grafana/ui';\r\nimport { EditorRow, EditorRows } from '../../extended/EditorRow';\r\nimport { DUMMY_METRIC_NAME, DUMMY_STASTISTIC, MetricEditorMode } from '../../common-ds';\r\n\r\nexport function Metric({ query, onChange, editorMode }: any) {\r\n  const { elementType, cloudIdentifierId, MetricName, statistic, metricQuery } = query;\r\n\r\n  const onChangeElementType = (e: any) => {\r\n    onChange({ ...query, elementType: e.target.value });\r\n  };\r\n\r\n  const onChangeInstanceID = (e: any) => {\r\n    onChange({ ...query, cloudIdentifierId: e.target.value });\r\n  };\r\n\r\n  const onChangeMetricQuery = (e: any) => {\r\n    onChange({ ...query, metricQuery: e.target.value });\r\n  };\r\n\r\n  const onChangeMetricName = (value: any) => {\r\n    onChange({ ...query, MetricName: value });\r\n  };\r\n\r\n  const onChangeStatistic = (value: any) => {\r\n    onChange({ ...query, statistic: value });\r\n  };\r\n\r\n\r\n  return (\r\n    <EditorRows>\r\n      <EditorRow label=\"\">\r\n        <InlineField label=\"Element Type\">\r\n          <Input value={elementType} onChange={(e: any) => onChangeElementType(e)} />\r\n        </InlineField>\r\n        <InlineField label=\"Instance ID\">\r\n          <Input value={cloudIdentifierId} onChange={(e: any) => onChangeInstanceID(e)} />\r\n        </InlineField>\r\n      </EditorRow>\r\n      {\r\n        editorMode === MetricEditorMode.Builder ?\r\n          <EditorRow label=\"\">\r\n            <InlineField label=\"Metric Name\">\r\n              <Select\r\n                className=\"min-width-12 width-12\"\r\n                value={MetricName}\r\n                options={DUMMY_METRIC_NAME}\r\n                onChange={(e) => onChangeMetricName(e.value)}\r\n                menuShouldPortal={true}\r\n              />\r\n            </InlineField>\r\n            <InlineField label=\"Statistic\">\r\n              <Select className=\"min-width-12 width-12\" value={statistic} options={DUMMY_STASTISTIC} onChange={(e) => onChangeStatistic(e.value)} menuShouldPortal={true} />\r\n            </InlineField>\r\n          </EditorRow> :\r\n          <EditorRow label=\"\">\r\n            <Input placeholder='Enter your query' value={metricQuery} onChange={(e: any) => onChangeMetricQuery(e)} />\r\n          </EditorRow>\r\n      }\r\n    </EditorRows>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { InlineField, Input } from '@grafana/ui';\r\nimport { EditorRow, EditorRows } from '../../extended/EditorRow';\r\n// import { DUMMY_PRODUCTS, DUMMY_ENVS, DUMMY_MODULES, DUMMY_SERVICES } from '../../common-ds';\r\n\r\n\r\nexport function Log({ query, onChange }: any) {\r\n  const { elementType, instanceID, logQuery, logGroup } = query;\r\n\r\n  const onChangeElementType = (e: any) => {\r\n    onChange({ ...query, elementType: e.target.value });\r\n  };\r\n\r\n  const onChangeInstanceID = (e: any) => {\r\n    onChange({ ...query, instanceID: e.target.value });\r\n  };\r\n\r\n  const onChangeLogGroup = (e: any) => {\r\n    onChange({ ...query, logGroup: e.target.value });\r\n  };\r\n\r\n  const onChangeLogQuery = (e: any) => {\r\n    onChange({ ...query, logQuery: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <EditorRows>\r\n      <EditorRow label=\"\">\r\n        <InlineField label=\"Element Type\">\r\n          <Input value={elementType} onChange={(e: any) => onChangeElementType(e)} />\r\n        </InlineField>\r\n        <InlineField label=\"Instance ID\">\r\n          <Input value={instanceID} onChange={(e: any) => onChangeInstanceID(e)} />\r\n        </InlineField>\r\n        <InlineField label=\"Log Group\">\r\n          <Input value={logGroup} onChange={(e: any) => onChangeLogGroup(e)} />\r\n        </InlineField>\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <Input placeholder='Enter your log query' value={logQuery} onChange={(e: any) => onChangeLogQuery(e)} />\r\n      </EditorRow>\r\n    </EditorRows>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { InlineField, Input } from '@grafana/ui';\r\nimport { EditorRow, EditorRows } from '../../extended/EditorRow';\r\n\r\nexport function Trace({ query, onChange }: any) {\r\n  const { elementType, instanceID, traceQuery, traceLocation } = query;\r\n\r\n  const onChangeElementType = (e: any) => {\r\n    onChange({ ...query, elementType: e.target.value });\r\n  };\r\n\r\n  const onChangeInstanceID = (e: any) => {\r\n    onChange({ ...query, instanceID: e.target.value });\r\n  };\r\n\r\n  const onChangeTraceLocation = (e: any) => {\r\n    onChange({ ...query, traceLocation: e.target.value });\r\n  };\r\n\r\n  const onChangeTraceQuery = (e: any) => {\r\n    onChange({ ...query, traceQuery: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <EditorRows>\r\n      <EditorRow label=\"\">\r\n        <InlineField label=\"Element Type\">\r\n          <Input value={elementType} onChange={(e: any) => onChangeElementType(e)} />\r\n        </InlineField>\r\n        <InlineField label=\"Instance ID\">\r\n          <Input value={instanceID} onChange={(e: any) => onChangeInstanceID(e)} />\r\n        </InlineField>\r\n        <InlineField label=\"Trace Location\">\r\n          <Input value={traceLocation} onChange={(e: any) => onChangeTraceLocation(e)} />\r\n        </InlineField>\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <Input placeholder='Enter your trace query' value={traceQuery} onChange={(e: any) => onChangeTraceQuery(e)} />\r\n      </EditorRow>\r\n    </EditorRows>\r\n  );\r\n}\r\n","import { css, cx } from '@emotion/css';\r\nimport React from 'react';\r\n\r\nimport { GrafanaTheme2 } from '@grafana/data';\r\n\r\nimport { stylesFactory, useTheme2 } from '@grafana/ui';\r\n\r\nexport interface SpaceProps {\r\n  v?: number;\r\n  h?: number;\r\n  layout?: 'block' | 'inline';\r\n}\r\n\r\nexport const Space = (props: SpaceProps) => {\r\n  const theme = useTheme2();\r\n  const styles = getStyles(theme, props);\r\n\r\n  return <span className={cx(styles.wrapper)} />;\r\n};\r\n\r\nSpace.defaultProps = {\r\n  v: 0,\r\n  h: 0,\r\n  layout: 'block',\r\n};\r\n\r\nconst getStyles = stylesFactory((theme: GrafanaTheme2, props: SpaceProps) => ({\r\n  wrapper: css([\r\n    {\r\n      paddingRight: theme.spacing(props.h ?? 0),\r\n      paddingBottom: theme.spacing(props.v ?? 0),\r\n    },\r\n    props.layout === 'inline' && {\r\n      display: 'inline-block',\r\n    },\r\n    props.layout === 'block' && {\r\n      display: 'block',\r\n    },\r\n  ]),\r\n}));\r\n","import { css } from '@emotion/css';\r\nimport React, { ComponentProps } from 'react';\r\nimport { stylesFactory, useTheme2, ReactUtils, Field, Icon, PopoverContent, Tooltip, Tag } from '@grafana/ui';\r\nimport { Space } from './Space';\r\nimport { Stack } from './Stack';\r\nimport type { GrafanaTheme2 } from '@grafana/data';\r\n\r\nexport const EditorFieldGroup: React.FC<{\r\n  children: React.ReactNode;\r\n}> = ({ children }) => {\r\n  return <Stack gap={1}>{children}</Stack>;\r\n};\r\n\r\ninterface EditorFieldProps extends ComponentProps<typeof Field> {\r\n  label: string;\r\n  children: React.ReactElement;\r\n  promoNode?: React.ReactNode;\r\n  width?: number | string;\r\n  optional?: boolean;\r\n  tooltip?: PopoverContent;\r\n  invalid?: boolean;\r\n  tag?: string;\r\n  dataTestId?: string;\r\n  borderColor?: string;\r\n  horizontal?: boolean;\r\n}\r\n\r\nexport const EditorField: React.FC<EditorFieldProps> = (props) => {\r\n  const { label, optional, tooltip, children, promoNode, width, invalid, borderColor, tag, dataTestId, horizontal, ...fieldProps } = props;\r\n\r\n  const theme = useTheme2();\r\n  const styles = getStyles(theme, width, invalid ? 'red' : borderColor, horizontal);\r\n\r\n  // Null check for backward compatibility\r\n  const childInputId = fieldProps?.htmlFor || ReactUtils?.getChildId(children);\r\n  const testId = (compType = '') => `infinity-query-field${compType ? '-' + compType : ''}-${(dataTestId || label).replace(/\\ /g, '-')}`.toLowerCase();\r\n\r\n  const labelEl = (\r\n    <>\r\n      <label className={styles.label} htmlFor={childInputId} data-testid={testId('label')}>\r\n        {label}\r\n        {tag && <Tag name={tag} className={styles.tag} colorIndex={10} />}\r\n        {optional && <span className={styles.optional}> - optional</span>}\r\n        {promoNode}\r\n        {tooltip && (\r\n          <Tooltip placement=\"top\" content={tooltip} theme=\"info\">\r\n            <Icon name=\"info-circle\" size=\"sm\" className={styles.icon} />\r\n          </Tooltip>\r\n        )}\r\n      </label>\r\n      <Space v={0.5} />\r\n    </>\r\n  );\r\n\r\n  if (horizontal) {\r\n    return (\r\n      <div className={styles.root} data-testid={testId('wrapper')}>\r\n        <Field className={styles.field} label={labelEl} {...fieldProps} horizontal={true}>\r\n          {children}\r\n        </Field>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.root} data-testid={testId('wrapper')}>\r\n      <Field className={styles.field} label={labelEl} {...fieldProps}>\r\n        {children}\r\n      </Field>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getStyles = stylesFactory((theme: GrafanaTheme2, width?: number | string, borderColor = 'transparent', horizontal = false) => {\r\n  return {\r\n    root: css({\r\n      minWidth: theme.spacing(width ?? 0),\r\n      paddingInlineStart: '7px',\r\n      paddingInlineEnd: '5px',\r\n      borderLeft: `1px solid ${borderColor}`,\r\n      marginRight: horizontal ? '10px' : '5px',\r\n    }),\r\n    label: css({\r\n      fontSize: 12,\r\n      fontWeight: theme.typography.fontWeightMedium,\r\n      paddingLeft: '1px',\r\n      border: horizontal ? `1px solid ${borderColor}` : '',\r\n      padding: horizontal ? '5px 10px 5px 0px' : '',\r\n      textAlign: horizontal ? 'right' : 'left',\r\n    }),\r\n    tag: css({\r\n      marginLeft: '10px',\r\n    }),\r\n    optional: css({\r\n      fontStyle: 'italic',\r\n      color: theme.colors.text.secondary,\r\n    }),\r\n    field: css({\r\n      marginBottom: 0, // GrafanaUI/Field has a bottom margin which we must remove\r\n      marginRight: '0px',\r\n    }),\r\n    icon: css({\r\n      color: theme.colors.text.secondary,\r\n      marginLeft: theme.spacing(1),\r\n      ':hover': {\r\n        color: theme.colors.text.primary,\r\n      },\r\n    }),\r\n  };\r\n});\r\n","import React, { useRef } from 'react';\r\nimport { InlineField, Input, Button, Checkbox } from '@grafana/ui';\r\nimport { EditorRow, EditorRows } from '../../extended/EditorRow';\r\nimport { EditorField } from '../../extended/EditorField';\r\n\r\nexport function Api({ query, onChange }: any) {\r\n  const { elementType, instanceID, method, columns, isObjectInsteadOfArray, isDataInColumn, rowsRoots } = query;\r\n\r\n  const [allColumns, setAllColumns] = React.useState<any>([]);\r\n  const fetchingComplete = useRef(false);\r\n\r\n  React.useEffect(() => {\r\n    if (fetchingComplete.current === false) {\r\n      setAllColumns(columns ? columns : [{\r\n        selector: \"\",\r\n        as: \"\",\r\n        formatAs: \"\",\r\n      }]);\r\n    }\r\n    fetchingComplete.current = true;\r\n  }, [columns]);\r\n\r\n  const onChangeElementType = (e: any) => {\r\n    onChange({ ...query, elementType: e.target.value });\r\n  };\r\n\r\n  const onChangeInstanceID = (e: any) => {\r\n    onChange({ ...query, instanceID: e.target.value });\r\n  };\r\n\r\n  const onChangeMethod = (e: any) => {\r\n    onChange({ ...query, method: e.target.value });\r\n  };\r\n\r\n  const onChangeColumn = (index: any, columnsList: any, key: any, value: any) => {\r\n    columnsList[index][key] = value;\r\n    onChange({ ...query, columns: JSON.parse(JSON.stringify(columnsList)) });\r\n  };\r\n\r\n  const onClickAddColumn = () => {\r\n    allColumns.push({\r\n      selector: \"\",\r\n      as: \"\",\r\n      formatAs: \"\",\r\n    });\r\n    setAllColumns(JSON.parse(JSON.stringify(allColumns)));\r\n  };\r\n\r\n  const onClickRemove = (columns: any, index: any) => {\r\n    columns.splice(index, 1);\r\n    setAllColumns(JSON.parse(JSON.stringify(columns)));\r\n  };\r\n\r\n  const renderColumns = (columns: any) => {\r\n    const retData: any = [];\r\n    for (let i = 0; i < columns.length; i++) {\r\n      const column = columns[i];\r\n      retData.push(\r\n        <EditorRow label=\"\" key={`column-${i}`}>\r\n          <InlineField label=\"Selector\">\r\n            <Input value={column.selector} onChange={(e: any) => onChangeColumn(i, columns, \"selector\", e.target.value)} />\r\n          </InlineField>\r\n          <InlineField label=\"as\">\r\n            <Input value={column.as} onChange={(e: any) => onChangeColumn(i, columns, \"as\", e.target.value)} />\r\n          </InlineField>\r\n          <InlineField label=\"Format as\">\r\n            <Input value={column.formatAs} onChange={(e: any) => onChangeColumn(i, columns, \"formatAs\", e.target.value)} />\r\n          </InlineField>\r\n          {\r\n            columns.length > 1 ?\r\n              <Button onClick={() => onClickRemove(columns, i)} icon='times'></Button> : <></>\r\n          }\r\n        </EditorRow>\r\n      );\r\n    }\r\n    return retData;\r\n  };\r\n\r\n  const onChangeObjectArray = (e: any) => {\r\n    onChange({ ...query, isObjectInsteadOfArray: e.target.checked });\r\n  };\r\n\r\n  const onChangeDataInColumn = (e: any) => {\r\n    onChange({ ...query, isDataInColumn: e.target.checked });\r\n  };\r\n\r\n  const onChangeRowsRoots = (e: any) => {\r\n    onChange({ ...query, rowsRoots: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <EditorRows>\r\n      <EditorRow label=\"\">\r\n        <InlineField label=\"Element Type\">\r\n          <Input value={elementType} onChange={(e: any) => onChangeElementType(e)} />\r\n        </InlineField>\r\n        <InlineField label=\"Instance ID\">\r\n          <Input value={instanceID} onChange={(e: any) => onChangeInstanceID(e)} />\r\n        </InlineField>\r\n        <InlineField label=\"Method\">\r\n          <Input value={method} onChange={(e: any) => onChangeMethod(e)} />\r\n        </InlineField>\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <h5><b>Parsing Option and Result Field</b></h5>\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <EditorField label='Rows/Root - Optional'>\r\n          <textarea value={rowsRoots} onChange={onChangeRowsRoots} placeholder='Rows/Root Selector'></textarea>\r\n        </EditorField>\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <label>Rows/Root - Optional</label>\r\n      </EditorRow>\r\n      {renderColumns(allColumns)}\r\n      <EditorRow label=\"Column - Optional\">\r\n        <Button onClick={onClickAddColumn} icon='plus-square'>Column</Button>\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <label >Advance Options - Optional</label>\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <Checkbox value={isObjectInsteadOfArray} label='Root returns object instead of array?' onChange={onChangeObjectArray} />\r\n      </EditorRow>\r\n      <EditorRow label=\"\">\r\n        <Checkbox value={isDataInColumn} label='Is data in column format?' onChange={onChangeDataInColumn} />\r\n      </EditorRow>\r\n    </EditorRows>\r\n  );\r\n}\r\n","import { DataSourcePlugin } from '@grafana/data';\r\nimport { DataSource } from './datasource';\r\nimport { ConfigEditor } from './components/ConfigEditor';\r\nimport { QueryEditor } from './components/QueryEditor';\r\nimport { MyQuery, MyDataSourceOptions } from './types';\r\n\r\nexport const plugin = new DataSourcePlugin<DataSource, MyQuery, MyDataSourceOptions>(DataSource)\r\n  .setConfigEditor(ConfigEditor)\r\n  .setQueryEditor(QueryEditor);\r\n","import React, { ChangeEvent } from 'react';\r\nimport { InlineField, Input } from '@grafana/ui';\r\nimport { DataSourcePluginOptionsEditorProps } from '@grafana/data';\r\nimport { MyDataSourceOptions } from '../types';\r\n\r\ninterface Props extends DataSourcePluginOptionsEditorProps<MyDataSourceOptions> { }\r\n\r\nexport function ConfigEditor(props: Props) {\r\n  const { onOptionsChange, options } = props;\r\n\r\n  const onPathChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const jsonData = {\r\n      ...options.jsonData,\r\n      path: event.target.value,\r\n    };\r\n    onOptionsChange({ ...options, jsonData });\r\n  };\r\n\r\n  const onAPIEndPointChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const jsonData = {\r\n      ...options.jsonData,\r\n      apiEndpoint: event.target.value,\r\n    };\r\n    onOptionsChange({ ...options, jsonData });\r\n  };\r\n\r\n  // Secure field (only sent to the backend)\r\n  // const onAPIKeyChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n  //   onOptionsChange({\r\n  //     ...options,\r\n  //     secureJsonData: {\r\n  //       apiKey: event.target.value,\r\n  //     },\r\n  //   });\r\n  // };\r\n\r\n  // const onResetAPIKey = () => {\r\n  //   onOptionsChange({\r\n  //     ...options,\r\n  //     secureJsonFields: {\r\n  //       ...options.secureJsonFields,\r\n  //       apiKey: false,\r\n  //     },\r\n  //     secureJsonData: {\r\n  //       ...options.secureJsonData,\r\n  //       apiKey: '',\r\n  //     },\r\n  //   });\r\n  // };\r\n\r\n  const { jsonData } = options;\r\n  // const { jsonData, secureJsonFields } = options;\r\n  // const secureJsonData = (options.secureJsonData || {}) as MySecureJsonData;\r\n\r\n  return (\r\n    <div className=\"gf-form-group\">\r\n      <InlineField label=\"Path\" labelWidth={12}>\r\n        <Input\r\n          onChange={onPathChange}\r\n          value={jsonData.path || ''}\r\n          placeholder=\"json field returned to frontend\"\r\n          width={40}\r\n        />\r\n      </InlineField>\r\n      {/* <InlineField label=\"API Key\" labelWidth={12}>\r\n        <SecretInput\r\n          isConfigured={(secureJsonFields && secureJsonFields.apiKey) as boolean}\r\n          value={secureJsonData.apiKey || ''}\r\n          placeholder=\"Test\"\r\n          width={40}\r\n          onReset={onResetAPIKey}\r\n          onChange={onAPIKeyChange}\r\n        />\r\n      </InlineField> */}\r\n      <InlineField label=\"API Endpoint\" labelWidth={12}>\r\n        <Input\r\n          onChange={onAPIEndPointChange}\r\n          value={jsonData.apiEndpoint || ''}\r\n          placeholder=\"API Endpoint\"\r\n          width={40}\r\n        />\r\n      </InlineField>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { InlineField, Select, Input } from '@grafana/ui';\r\nimport {\r\n  SOURCE_TYPE,\r\n  SOURCE_VALUE,\r\n  METRIC_TYPE,\r\n  MetricEditorMode\r\n} from '../common-ds';\r\nimport { Metric } from './EditorComponents/Metric';\r\nimport { Log } from './EditorComponents/Log';\r\nimport { Trace } from './EditorComponents/Trace';\r\nimport { Api } from './EditorComponents/Api';\r\nimport { services } from '../service';\r\n\r\nexport function QueryEditor({ query, onChange, onRunQuery }: any) {\r\n  const [elementId, setElementId] = useState(\"\");\r\n  const onChanged = useRef(false);\r\n\r\n  const getCloudElements = useCallback((id: string, query: any) => {\r\n    services.getCloudElements(id).then((res) => {\r\n      if (res && res[0]) {\r\n        const cloudElement = res[0];\r\n        query = {\r\n          ...query,\r\n          \"elementType\": cloudElement.elementType,\r\n          \"elementId\": parseInt(id, 10),\r\n          \"cloudIdentifierName\": cloudElement.instanceName,\r\n          \"cloudIdentifierId\": cloudElement.instanceId,\r\n          \"type\": \"appkube-cloudwatch\",\r\n          \"queryMode\": \"Metrics\",\r\n          \"source\": \"url\",\r\n          \"productId\": 1,\r\n          \"environmentId\": parseInt(id, 10),\r\n          \"moduleId\": 2,\r\n          \"serviceId\": 2,\r\n          \"serviceType\": \"java app service\",\r\n          \"cmdbUrl\": \"\",\r\n          \"vaultUrl\": \"\",\r\n          \"namespace\": \"AWS/EC2\",\r\n          \"metricName\": \"CPUUtilization\",\r\n          \"statistic\": \"Average\",\r\n          \"matchExact\": true,\r\n          \"expression\": \"\",\r\n          \"id\": \"\",\r\n          \"alias\": \"\",\r\n          \"period\": \"\",\r\n          \"metricQueryType\": 0,\r\n          \"metricEditorMode\": 0,\r\n          \"sqlExpression\": \"\",\r\n          \"accountId\": \"657907747545\",\r\n          \"region\": \"\"\r\n        };\r\n        onChange({ ...query });\r\n      }\r\n    });\r\n  }, [onChange]);\r\n\r\n  useEffect(() => {\r\n    if (onChanged.current === false) {\r\n      const id = findParam(\"var-elementId\", window.location.href);\r\n      if (id) {\r\n        setElementId(id);\r\n        getCloudElements(id, query);\r\n      } else {\r\n        alert(\"Please set 'elementId' variable\");\r\n      }\r\n      onChanged.current = true;\r\n    }\r\n  }, [query, onChange, getCloudElements]);\r\n\r\n  const findParam = (paramName: string, url: string) => {\r\n    if (!url) {\r\n      url = location.href;\r\n    }\r\n    paramName = paramName.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\r\n    const regexS = \"[\\\\?&]\" + paramName + \"=([^&#]*)\";\r\n    const regex = new RegExp(regexS);\r\n    const results = regex.exec(url);\r\n    return results == null ? \"\" : results[1];\r\n  }\r\n\r\n  const onSourceTypeChange = (value: any) => {\r\n    if (value === SOURCE_VALUE.METRIC) {\r\n      query.queryType = 'timeSeriesQuery';\r\n    } else if (value === SOURCE_VALUE.LOG) {\r\n      query.queryType = 'logAction';\r\n    }\r\n    query.sourceType = value;\r\n    if (!elementId) {\r\n      const id = findParam(\"var-elementId\", window.location.href);\r\n      if (id) {\r\n        setElementId(id);\r\n        getCloudElements(id, query);\r\n      } else {\r\n        alert(\"Please set 'elementId' variable\");\r\n      }\r\n    } else {\r\n      getCloudElements(elementId, query);\r\n    }\r\n  };\r\n\r\n  const onMetricTypeChange = (value: any) => {\r\n    onChange({ ...query, metricType: value });\r\n  };\r\n\r\n  const onChangeData = (value: any) => {\r\n    onChange({ ...query, ...value });\r\n  };\r\n\r\n  const {\r\n    sourceType,\r\n    metricType,\r\n    metricEditorMode,\r\n  } = query;\r\n\r\n  const defaultMetricMode = metricEditorMode ? metricEditorMode : MetricEditorMode.Builder;\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <InlineField label=\"Source Type\">\r\n          <Select\r\n            className=\"min-width-12 width-12\"\r\n            value={sourceType}\r\n            options={SOURCE_TYPE}\r\n            onChange={(e) => onSourceTypeChange(e.value)}\r\n            menuShouldPortal={true}\r\n          />\r\n        </InlineField>\r\n        {\r\n          sourceType === SOURCE_VALUE.METRIC ?\r\n            <>\r\n              <InlineField label=\"Source Type\">\r\n                <Select\r\n                  className=\"min-width-12 width-12\"\r\n                  value={metricType}\r\n                  options={METRIC_TYPE}\r\n                  onChange={(e) => onMetricTypeChange(e.value)}\r\n                  menuShouldPortal={true}\r\n                />\r\n              </InlineField>\r\n              <InlineField label=\"Element ID\">\r\n                <Input disabled={true} value={elementId} />\r\n              </InlineField>\r\n              <div style={{ display: \"block\", flexGrow: \"1\" }} />\r\n            </>\r\n            :\r\n            <></>\r\n        }\r\n      </div>\r\n      <div>\r\n        {\r\n          sourceType === SOURCE_VALUE.METRIC ?\r\n            <Metric\r\n              query={query}\r\n              onChange={onChangeData}\r\n              editorMode={defaultMetricMode}\r\n            />\r\n            :\r\n            <></>\r\n        }\r\n        {\r\n          sourceType === SOURCE_VALUE.LOG ?\r\n            <Log\r\n              query={query}\r\n              onChange={onChangeData}\r\n            />\r\n            :\r\n            <></>\r\n        }\r\n        {\r\n          sourceType === SOURCE_VALUE.TRACE ?\r\n            <Trace\r\n              query={query}\r\n              onChange={onChangeData}\r\n            />\r\n            :\r\n            <></>\r\n        }\r\n        {\r\n          sourceType === SOURCE_VALUE.API ?\r\n            <Api\r\n              query={query}\r\n              onChange={onChangeData}\r\n            />\r\n            :\r\n            <></>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","services","id","fetch","then","response","json","DEFAULT_QUERY","constant","DataSource","DataSourceWithBackend","constructor","instanceSettings","super","findParam","paramName","url","location","href","replace","results","RegExp","exec","getCloudElements","from","res","query","cloudElement","elementType","parseInt","instanceName","instanceId","getDefaultQuery","_","request","this","window","pipe","mergeMap","targets","i","length","assign","SOURCE_VALUE","MetricEditorMode","SOURCE_TYPE","label","METRIC_TYPE","DUMMY_METRIC_NAME","DUMMY_STASTISTIC","Builder","Code","Stack","_ref","children","props","_objectWithoutPropertiesLoose","_excluded","styles","useStyles2","useCallback","theme","getStyles","React","className","root","_props$direction","_props$wrap","_props$gap","css","display","flexDirection","direction","flexWrap","wrap","alignItems","gap","spacing","flexGrow","EditorRow","collapsible","collapsed","title","dataTestId","show","setShow","useState","testId","compType","arguments","toLowerCase","Button","icon","fill","size","variant","onClick","e","preventDefault","style","marginRight","collapseTile","collapseTileSecondary","marginTop","marginLeft","padding","backgroundColor","colors","background","secondary","borderRadius","shape","color","text","fontSize","typography","bodySmall","EditorRows","_ref2","Metric","onChange","editorMode","cloudIdentifierId","MetricName","statistic","metricQuery","InlineField","Input","target","onChangeElementType","onChangeInstanceID","Select","options","onChangeMetricName","menuShouldPortal","onChangeStatistic","placeholder","onChangeMetricQuery","Log","instanceID","logQuery","logGroup","onChangeLogGroup","onChangeLogQuery","Trace","traceQuery","traceLocation","onChangeTraceLocation","onChangeTraceQuery","Space","useTheme2","cx","wrapper","defaultProps","v","h","layout","stylesFactory","_props$h","_props$v","paddingRight","paddingBottom","EditorField","optional","tooltip","promoNode","width","invalid","borderColor","tag","horizontal","fieldProps","childInputId","htmlFor","ReactUtils","labelEl","Tag","name","colorIndex","Tooltip","placement","content","Icon","_Space","Field","_extends","field","minWidth","paddingInlineStart","paddingInlineEnd","borderLeft","fontWeight","fontWeightMedium","paddingLeft","border","textAlign","fontStyle","marginBottom","primary","Api","method","columns","isObjectInsteadOfArray","isDataInColumn","rowsRoots","allColumns","setAllColumns","fetchingComplete","useRef","current","selector","as","formatAs","onChangeColumn","index","columnsList","JSON","parse","stringify","onClickRemove","splice","onChangeMethod","_EditorRow","_EditorRow2","retData","column","push","renderColumns","onClickAddColumn","_EditorRow3","Checkbox","checked","plugin","DataSourcePlugin","setConfigEditor","onOptionsChange","jsonData","labelWidth","event","path","apiEndpoint","setQueryEditor","onRunQuery","elementId","setElementId","onChanged","useEffect","alert","onChangeData","sourceType","metricType","metricEditorMode","defaultMetricMode","queryType","onSourceTypeChange","onMetricTypeChange","disabled"],"sourceRoot":""}